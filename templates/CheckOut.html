<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>NewImage</title>
  <link rel="stylesheet" href="../static/CheckOut.css">
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="icon" type="image/png" href="{{ url_for('static', filename='imagenes/Logo.png') }}">
</head>
<body>
     <!-- Navbar -->
    <nav class="sticky-nav">
        <div class="container">
            <div class="nav-content">
                <a href="{{ url_for('index') }}" class="logo" >
                    <img src="{{ url_for('static', filename='imagenes/Logo.png') }}" alt="Logo PilatesPro" class="logo-img">
                    <span class="logo-text">NewImage</span>
                </a>
                
                <div class="desktop-menu">
                    <a href="{{ url_for('index') }}">Inicio</a>
                    <a href="{{ url_for('shop') }}">Productos</a>
                    <a href="#" onclick="showSection('about')">Nosotros</a>
                    <a href="#" onclick="showSection('contact')">Contacto</a>
                </div>
                
                <div class="nav-actions">
                    {% if "user_id" in session %}
                        {% if user.is_admin %}
                            <a href="{{ url_for('admin_dashboard') }}" class="btn btn-secondary">Panel Admin</a>
                        {% endif %}
                        <span  id="account-btn" class="btn btn-secondary">
                            {{ session["username"] }}</span>
                        <form action="{{ url_for('logout') }}" method="post" style="display:inline;">
                            <button id="logout-btn" class="btn btn-gray">Cerrar sesión</button>
                        </form>
                    {% else %}
                        <a href="{{ url_for('login') }}" class="btn btn-primary">Iniciar sesión</a>
                    {% endif %}
                </div>
            </div>
        </div>
    </nav>

    <!-- Mobile menu -->
   <div class="mobile-menu">
        <div class="mobile-menu-links">
            <a href="{{ url_for('index') }}" onclick="showSection('home')" class="mobile-menu-item">
                <svg xmlns="http://www.w3.org/2000/svg" class="mobile-menu-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                     d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
                </svg>
                <span class="mobile-menu-label">Inicio</span>
            </a>
            <a href="{{ url_for('shop') }}" onclick="showSection('products')" class="mobile-menu-item">
                <svg xmlns="http://www.w3.org/2000/svg" class="mobile-menu-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4" />
                </svg>
                <span class="mobile-menu-label">Productos</span>
            </a>
            <a href="/templates/CheckOut.html" onclick="showSection('cart')" class="mobile-menu-item">
                <svg xmlns="http://www.w3.org/2000/svg" class="mobile-menu-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z" />
                </svg>
                <span class="mobile-menu-label">Repuestos</span>
            </a>
            <a href="{{ url_for('repuestos') }}" class="mobile-menu-item">
                <svg xmlns="http://www.w3.org/2000/svg" class="mobile-menu-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                </svg>
                <span class="mobile-menu-label">Cuenta</span>
            </a>
        </div>
    </div>
</div>
    
<!-- Checkout (modal) -->
    <div class="fixed inset-0 overflow-hidden z-50 " id="checkoutModal">
        <div class="absolute inset-0 overflow-hidden">
            <div class="absolute inset-0 bg-gray-500 bg-opacity-75 transition-opacity" id="checkoutOverlay"></div>
            <div class="fixed inset-y-0 right-0 max-w-full flex">
                <div class="w-screen max-w-7xl">
                    <div class="h-full flex flex-col bg-white shadow-xl overflow-y-scroll">
                        <div class="py-24 px-4 sm:px-6">
                            <div class="flex items-start justify-between">
                                <h2 class="text-2xl font-bold text-gray-900">Finalizar compra</h2>
                                <button type="button" id="closeCheckoutButton" class="-mr-2  p-0 text-gray-400 hover:text-gray-500">
                                    <span class="sr-only">
                                        Cerrar panel
                                    </span>
                                    <a href="{{ url_for('shop') }}">
                                        <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                                        </svg>
                                    </a>
                                </button>
                            </div>
                        </div>
                        <div class="flex flex-1 overflow-hidden">
                            <!-- Pasos del checkout -->
                            <div class="w-1/3 p-6 bg-gray-50 overflow-y-auto ">
                                <div class="space-y-4">
                                    <div class="checkout-step active p-4 rounded" data-step="1">
                                        <h3 class="font-medium text-lg">1. Información de contacto</h3>
                                        <p class="text-sm text-gray-500">Datos para la facturación</p>
                                    </div>
                                    <div class="checkout-step p-4 rounded" data-step="2">
                                        <h3 class="font-medium text-lg">2. Dirección de envío</h3>
                                        <p class="text-sm text-gray-500">¿Dónde enviamos tu pedido?</p>
                                    </div>
                                    <div class="checkout-step p-4 rounded" data-step="3">
                                        <h3 class="font-medium text-lg">3. Método de envío</h3>
                                        <p class="text-sm text-gray-500">Cómo recibirás tu compra</p>
                                    </div>
                                    <div class="checkout-step p-4 rounded" data-step="4">
                                        <h3 class="font-medium text-lg">4. Método de pago</h3>
                                        <p class="text-sm text-gray-500">Cómo pagarás tu compra</p>
                                    </div>
                                    <div class="checkout-step p-4 rounded" data-step="5">
                                        <h3 class="font-medium text-lg">5. Confirmación</h3>
                                        <p class="text-sm text-gray-500">Revisa y finaliza tu compra</p>
                                    </div>
                                </div>
                                <div class="mt-8 border-t border-gray-200 pt-6">
                                    <h3 class="font-medium text-lg mb-4">Resumen del pedido</h3>
                                    <div id="checkoutSummary">
                                        <!-- Resumen del pedido se actualizará aquí -->
                                    </div>
                                    <div class="flex justify-between mt-4 font-medium">
                                        <p>Total</p>
                                        <p id="checkoutTotal"><span id="cartTotal">$0.00</span></p>
                                    </div>
                                </div>
                            </div>
                            <!-- Contenido del paso actual -->
                            <div class="w-2/3 p-6 overflow-y-auto">
                                <div class="max-w-lg mx-auto">
                                    <!-- Paso 1: Información de contacto -->
                                    <div id="step1" class="checkout-content animate-fadeIn">
                                        <h3 class="text-lg font-medium mb-6">Información de contacto</h3>
                                        <div class="grid grid-cols-2 gap-4">
                                            <div>
                                                <label for="firstName" class="block text-sm font-medium text-gray-700">Nombre</label>
                                                <input type="text" id="firstName" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500">
                                            </div>
                                            <div>
                                                <label for="lastName" class="block text-sm font-medium text-gray-700">Apellido</label>
                                                <input type="text" id="lastName" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500">
                                            </div>
                                        </div>
                                        <div class="mt-4">
                                            <label for="email" class="block text-sm font-medium text-gray-700">Correo electrónico</label>
                                            <input type="email" id="email" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500">
                                        </div>
                                        <div class="mt-4">
                                            <label for="phone" class="block text-sm font-medium text-gray-700">Teléfono</label>
                                            <input type="tel" id="phone" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500">
                                        </div>
                                        <div class="mt-6 pt-6 border-t border-gray-200">
                                            <button onclick="NextStep2()" class="w-full bg-indigo-600 border border-transparent rounded-md py-2 px-4 text-white font-medium hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500" data-next="2">
                                                Continuar
                                            </button>
                                        </div>
                                    </div>
                                    <!-- Paso 2: Dirección de envío -->
                                    <div id="step2" class="checkout-content hidden animate-fadeIn">
                                        <h3 class="text-lg font-medium mb-6">Dirección de envío</h3>
                                        <div class="grid grid-cols-2 gap-4">
                                            <div>
                                                <label for="address" class="block text-sm font-medium text-gray-700">Dirección</label>
                                                <input type="text" id="address" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500">
                                            </div>
                                            <div>
                                                <label for="apt" class="block text-sm font-medium text-gray-700">Apto/Casa</label>
                                                <input type="text" id="apt" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500">
                                            </div>
                                        </div>
                                        <div class="grid grid-cols-3 gap-4 mt-4">
                                            <div class="col-span-2">
                                                <label for="city" class="block text-sm font-medium text-gray-700">Ciudad</label>
                                                <input type="text" id="city" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500">
                                            </div>
                                            <div>
                                                <label for="zip" class="block text-sm font-medium text-gray-700">Código postal</label>
                                                <input type="text" id="zip" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500">
                                            </div>
                                        </div>
                                        <div class="mt-4">
                                            <label for="country" class="block text-sm font-medium text-gray-700">País</label>
                                            <select id="country" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500">
                                                <option>Seleccionar</option>
                                                <option>Argentina</option>
                                                <option>Chile</option>
                                                <option>Colombia</option>
                                                <option>España</option>
                                                <option>México</option>
                                                <option>Perú</option>
                                                <option>Estados Unidos</option>
                                                <option>Otro</option>
                                            </select>
                                        </div>
                                        <div class="mt-4">
                                            <label for="instructions" class="block text-sm font-medium text-gray-700">Instrucciones especiales</label>
                                            <textarea id="instructions" rows="3" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"></textarea>
                                        </div>
                                        <div class="mt-6 pt-6 border-t border-gray-200 flex justify-between">
                                            <button onclick="BackStep2()" class="bg-white border border-gray-300 rounded-md py-2 px-4 text-gray-700 font-medium hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500" data-prev="1">
                                                Atrás
                                            </button>
                                            <button onclick="NextStep3()" class="bg-indigo-600 border border-transparent rounded-md py-2 px-4 text-white font-medium hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500" data-next="3">
                                                Continuar
                                            </button>
                                        </div>
                                    </div>
                                    <!-- Paso 3: Método de envío -->
                                    <div id="step3" class="checkout-content hidden animate-fadeIn">
                                        <h3 class="text-lg font-medium mb-6">Método de envío</h3>
                                        
                                        <div class="space-y-4">
                                            <div class="relative">
                                                <input class="sr-only peer" type="radio" name="shipping" id="shipping-standard" checked>
                                                <label class="flex p-4 border border-gray-300 rounded-lg cursor-pointer peer-checked:border-indigo-500 peer-checked:bg-indigo-50" for="shipping-standard">
                                                    <div class="flex items-center mr-4">
                                                        <span class="w-5 h-5 inline-block rounded-full border-2 border-gray-300 peer-checked:border-indigo-600"></span>
                                                    </div>
                                                    <div>
                                                        <span class="block font-medium">Envío estándar</span>
                                                        <span class="block text-sm text-gray-500">3-5 días hábiles</span>
                                                    </div>
                                                    <span class="ml-auto font-medium">$25.00</span>
                                                </label>
                                            </div>
                                            <div class="relative">
                                                <input class="sr-only peer" type="radio" name="shipping" id="shipping-express">
                                                <label class="flex p-4 border border-gray-300 rounded-lg cursor-pointer peer-checked:border-indigo-500 peer-checked:bg-indigo-50" for="shipping-express">
                                                    <div class="flex items-center mr-4">
                                                        <span class="w-5 h-5 inline-block rounded-full border-2 border-gray-300 peer-checked:border-indigo-600"></span>
                                                    </div>
                                                    <div>
                                                        <span class="block font-medium">Envío express</span>
                                                        <span class="block text-sm text-gray-500">1-2 días hábiles</span>
                                                    </div>
                                                    <span class="ml-auto font-medium">$45.00</span>
                                                </label>
                                            </div>
                                            <div class="relative">
                                                <input class="sr-only peer" type="radio" name="shipping" id="shipping-pickup">
                                                <label class="flex p-4 border border-gray-300 rounded-lg cursor-pointer peer-checked:border-indigo-500 peer-checked:bg-indigo-50" for="shipping-pickup">
                                                    <div class="flex items-center mr-4">
                                                        <span class="w-5 h-5 inline-block rounded-full border-2 border-gray-300 peer-checked:border-indigo-600"></span>
                                                    </div>
                                                    <div>
                                                        <span class="block font-medium">Recogida en tienda</span>
                                                        <span class="block text-sm text-gray-500">Sin costo adicional</span>
                                                    </div>
                                                    <span class="ml-auto font-medium">$0.00</span>
                                                </label>
                                            </div>
                                        </div>
                                        <div class="mt-6 pt-6 border-t border-gray-200 flex justify-between">
                                            <button onclick="BackStep3()" class="bg-white border border-gray-300 rounded-md py-2 px-4 text-gray-700 font-medium hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500" data-prev="2">
                                                Atrás
                                            </button>
                                            <button onclick="NextStep4()" class="bg-indigo-600 border border-transparent rounded-md py-2 px-4 text-white font-medium hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500" data-next="4">
                                                Continuar
                                            </button>
                                        </div>
                                    </div>
  <!-- Paso 4: Método de pago -->
                                    <div id="step4" class="checkout-content hidden animate-fadeIn">
                                        <h3 class="text-lg font-medium mb-6">Método de pago</h3>
                                        
                                        <div class="mb-6">
                                            <div class="relative">
                                                <input class="sr-only peer" type="radio" name="payment" id="payment-credit" checked>
                                                <label class="flex p-4 border border-gray-300 rounded-lg cursor-pointer peer-checked:border-indigo-500 peer-checked:bg-indigo-50" for="payment-credit">
                                                    <div class="flex items-center mr-4">
                                                        <span class="w-5 h-5 inline-block rounded-full border-2 border-gray-300 peer-checked:border-indigo-600"></span>
                                                    </div>
                                                    <div>
                                                        <span class="block font-medium">Tarjeta de crédito/débito</span>
                                                    </div>
                                                    <span class="ml-auto"><i class="fab fa-cc-visa text-blue-900 mr-2"></i><i class="fab fa-cc-mastercard text-red-600 mr-2"></i><i class="fab fa-cc-amex text-blue-500"></i></span>
                                                </label>
                                            </div>
                                        </div>
                                        <div id="credit-card-form">
                                            <div class="mb-4">
                                                <label for="card-number" class="block text-sm font-medium text-gray-700">Número de tarjeta</label>
                                                <input type="text" id="card-number" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500" placeholder="1234 5678 9012 3456">
                                            </div>
                                            <div class="grid grid-cols-2 gap-4">
                                                <div>
                                                    <label for="card-expiry" class="block text-sm font-medium text-gray-700">Fecha de expiración</label>
                                                    <input type="text" id="card-expiry" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500" placeholder="MM/AA">
                                                </div>
                                                <div>
                                                    <label for="card-cvc" class="block text-sm font-medium text-gray-700">Código CVC</label>
                                                    <input type="text" id="card-cvc" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500" placeholder="CVC">
                                                </div>
                                            </div>
                                            <div class="mt-4">
                                                <label for="card-name" class="block text-sm font-medium text-gray-700">Nombre en la tarjeta</label>
                                                <input type="text" id="card-name" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500">
                                            </div>
                                        </div>
                                        <div class="mt-6">
                                            <div class="relative">
                                                <input class="sr-only peer" type="radio" name="payment" id="payment-paypal">
                                                <label class="flex p-4 border border-gray-300 rounded-lg cursor-pointer peer-checked:border-indigo-500 peer-checked:bg-indigo-50" for="payment-paypal">
                                                    <div class="flex items-center mr-4">
                                                        <span class="w-5 h-5 inline-block rounded-full border-2 border-gray-300 peer-checked:border-indigo-600"></span>
                                                    </div>
                                                    <div>
                                                        <span class="block font-medium">PayPal</span>
                                                    </div>
                                                    <span class="ml-auto"><i class="fab fa-paypal text-blue-600"></i></span>
                                                </label>
                                            </div>
                                        </div>
                                        <div class="mt-6">
                                            <div class="relative">
                                                <input class="sr-only peer" type="radio" name="payment" id="payment-transfer">
                                                <label class="flex p-4 border border-gray-300 rounded-lg cursor-pointer peer-checked:border-indigo-500 peer-checked:bg-indigo-50" for="payment-transfer">
                                                    <div class="flex items-center mr-4">
                                                        <span class="w-5 h-5 inline-block rounded-full border-2 border-gray-300 peer-checked:border-indigo-600"></span>
                                                    </div>
                                                    <div>
                                                        <span class="block font-medium">Transferencia bancaria</span>
                                                    </div>
                                                </label>
                                            </div>
                                        </div>
                                        <div class="mt-6 pt-6 border-t border-gray-200 flex justify-between">
                                            <button onclick="BackStep4 ()" class="bg-white border border-gray-300 rounded-md py-2 px-4 text-gray-700 font-medium hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500" data-prev="3">
                                                Atrás
                                            </button>
                                            <button onclick="NextStep5()" class="bg-indigo-600 border border-transparent rounded-md py-2 px-4 text-white font-medium hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500" data-next="5">
                                                Continuar
                                            </button>
                                        </div>
                                    </div>
                                    <!-- Paso 5: Confirmación -->
                                    <div id="step5" class="checkout-content hidden animate-fadeIn">
                                        <div class="text-center">
                                            <svg class="mx-auto h-16 w-16 text-green-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                                            </svg>
                                            <h3 class="text-lg font-medium text-gray-900 mt-4">¡Pedido completado!</h3>
                                                    
                                            <!-- Resumen Final -->
                                            <div class="mt-6" id="finalSummary"></div>
                                            <p class="font-bold mt-4">Total: <span id="finalTotal">$0.00</span></p>
                                            
                                            <div class="mt-10 border-t border-gray-200 pt-6">
                                            <p class="text-sm text-gray-500">Número de pedido:</p>
                                            <p class="text-lg font-medium text-gray-900 mt-1" id="orderNumber">OR-XXXX</p>
                                            </div>
                                            
                                            <div class="mt-6">
                                            <a href="{{ url_for('shop') }}" class="inline-flex items-center px-4 py-2 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700">
                                                Volver a la tienda
                                            </a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="../static/CheckOut.js"></script>
</body>
</html>